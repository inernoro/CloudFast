
@{
    ViewBag.Title = "Edit";
}

<div class="row" id="edit">
    <h3 class="text-center">
       {{namespace.actionDisplay}} ({{namespace.actionName}})
    </h3>
    <form role="form" >
        <div v-for="node in namespace.inputParantrens" class="form-group">
            <label :for="node.name">
                {{node.description}} ({{node.name}})
            </label>
            <input type="email" class="form-control" :id="node.name" :placeholder="node.type" />
        </div>
        <button type="submit" class="btn btn-default">
            提交
        </button>
    </form>
</div>
<br />
<div class="row">
    <div class="view">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title" contenteditable="true">输入参数</h3>
            </div>
            <div class="panel-body" contenteditable="true">
                结果集
            </div>
            <div class="panel-footer" contenteditable="true">
                状态码
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" language="javascript">
    function GetRequest() {
        var url = location.search; //获取url中"?"符后的字串
        var theRequest = new Object();
        if (url.indexOf("?") !== -1) {
            var str = url.substr(1);
            var strs = str.split("&");
            for (var i = 0; i < strs.length; i++) {
                theRequest[strs[i].split("=")[0]] = (strs[i].split("=")[1]);
            }
        }
        return theRequest;
    }

    $(function () {
        $.ajax({
            url: "/api/services/app/Manager/GetInfo",
            data: { input: GetRequest()["url"] },
            type: "Get",
            dataType: "json",
            success: function (data) {
                model.namespace = data.result;
            },
            error: function (e, r) {
                console.log(e, r);
            }
        });
    });

    var model = {
        namespace: new Array()
    }
    var vue = new Vue({
        el: "#edit",
        data: model
    });

</script>